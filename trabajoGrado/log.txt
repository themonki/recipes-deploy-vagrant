[mgwn1] Importing base box 'centos64'...
[mgwn1] [0K[mgwn1] Progress: 10%[mgwn1] [0K[mgwn1] Progress: 20%[mgwn1] [0K[mgwn1] Progress: 30%[mgwn1] [0K[mgwn1] Progress: 40%[mgwn1] [0K[mgwn1] Progress: 50%[mgwn1] [0K[mgwn1] Progress: 60%[mgwn1] [0K[mgwn1] Progress: 90%[mgwn1] [0K[mgwn1] The guest additions on this VM do not match the install version of
VirtualBox! This may cause things such as forwarded ports, shared
folders, and more to not work properly. If any of those things fail on
this machine, please update the guest additions and repackage the
box.

Guest Additions Version: 4.1.18
VirtualBox Version: 4.1.12
[mgwn1] Matching MAC address for NAT networking...
[mgwn1] Clearing any previously set forwarded ports...
[mgwn1] Forwarding ports...
[mgwn1] -- 22 => 2222 (adapter 1)
[mgwn1] Creating shared folders metadata...
[mgwn1] Clearing any previously set network interfaces...
[mgwn1] Preparing network interfaces based on configuration...
[mgwn1] Running any VM customizations...
[mgwn1] Booting VM...
[mgwn1] Waiting for VM to boot. This can take a few minutes.
[mgwn1] VM booted and ready for use!
[mgwn1] Configuring and enabling network interfaces...
[mgwn1] Mounting shared folders...
[mgwn1] -- v-root: /vagrant
[mgwn1] -- v-csc-1: /tmp/vagrant-chef-1/chef-solo-1/cookbooks
[mgwn1] Running provisioner: Vagrant::Provisioners::ChefSolo...
[mgwn1] Generating chef JSON and uploading...
[mgwn1] Running chef-solo...
[2013-04-05T22:57:06+02:00] INFO: *** Chef 10.12.0 ***
[2013-04-05T22:57:09+02:00] INFO: Setting the run_list to ["recipe[confighost::preinstall]", "recipe[confighost::hostname]", "recipe[confighost::hostconfigurenode]", "recipe[chefInstall::install]", "recipe[preinstall]"] from JSON
[2013-04-05T22:57:09+02:00] INFO: Run List is [recipe[confighost::preinstall], recipe[confighost::hostname], recipe[confighost::hostconfigurenode], recipe[chefInstall::install], recipe[preinstall]]
[2013-04-05T22:57:09+02:00] INFO: Run List expands to [confighost::preinstall, confighost::hostname, confighost::hostconfigurenode, chefInstall::install, preinstall]
[2013-04-05T22:57:09+02:00] INFO: Starting Chef Run for localhost
[2013-04-05T22:57:09+02:00] INFO: Running start handlers
[2013-04-05T22:57:09+02:00] INFO: Start handlers complete.
[2013-04-05T22:57:09+02:00] INFO: Processing cookbook_file[/home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm] action create (confighost::preinstall line 87)
[2013-04-05T22:57:10+02:00] INFO: cookbook_file[/home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm] owner changed to 500
[2013-04-05T22:57:10+02:00] INFO: cookbook_file[/home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm] mode changed to 644
[2013-04-05T22:57:10+02:00] INFO: cookbook_file[/home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm] created file /home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm
[2013-04-05T22:57:10+02:00] INFO: Processing cookbook_file[/home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm] action create (confighost::preinstall line 94)
[2013-04-05T22:57:10+02:00] INFO: cookbook_file[/home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm] owner changed to 500
[2013-04-05T22:57:10+02:00] INFO: cookbook_file[/home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm] mode changed to 644
[2013-04-05T22:57:10+02:00] INFO: cookbook_file[/home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm] created file /home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm
[2013-04-05T22:57:10+02:00] INFO: Processing cookbook_file[/home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm] action create (confighost::preinstall line 101)
[2013-04-05T22:57:10+02:00] INFO: cookbook_file[/home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm] owner changed to 500
[2013-04-05T22:57:10+02:00] INFO: cookbook_file[/home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm] mode changed to 644
[2013-04-05T22:57:10+02:00] INFO: cookbook_file[/home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm] created file /home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm
[2013-04-05T22:57:10+02:00] INFO: Processing execute[install tlc] action run (confighost::preinstall line 110)
[2013-04-05T22:57:12+02:00] INFO: execute[install tlc] ran successfully
[2013-04-05T22:57:12+02:00] INFO: Processing execute[install expect] action run (confighost::preinstall line 117)
[2013-04-05T22:57:13+02:00] INFO: execute[install expect] ran successfully
[2013-04-05T22:57:13+02:00] INFO: Processing execute[install rsync] action run (confighost::preinstall line 124)
[2013-04-05T22:57:13+02:00] INFO: execute[install rsync] ran successfully
[2013-04-05T22:57:13+02:00] INFO: Processing cookbook_file[/home/vagrant/configssh.exp] action create (confighost::preinstall line 133)
[2013-04-05T22:57:13+02:00] INFO: cookbook_file[/home/vagrant/configssh.exp] owner changed to 500
[2013-04-05T22:57:13+02:00] INFO: cookbook_file[/home/vagrant/configssh.exp] mode changed to 644
[2013-04-05T22:57:13+02:00] INFO: cookbook_file[/home/vagrant/configssh.exp] created file /home/vagrant/configssh.exp
[2013-04-05T22:57:13+02:00] INFO: Processing execute[backup /etc/sysconfig/network] action run (confighost::hostname line 39)
[2013-04-05T22:57:14+02:00] INFO: execute[backup /etc/sysconfig/network] ran successfully
[2013-04-05T22:57:14+02:00] INFO: Processing template[/tmp/network] action create (confighost::hostname line 46)
[2013-04-05T22:57:14+02:00] INFO: template[/tmp/network] mode changed to 755
[2013-04-05T22:57:14+02:00] INFO: template[/tmp/network] updated content
[2013-04-05T22:57:14+02:00] INFO: Processing execute[move network] action run (confighost::hostname line 55)
[2013-04-05T22:57:14+02:00] INFO: execute[move network] ran successfully
[2013-04-05T22:57:14+02:00] INFO: Processing execute[hostname update] action run (confighost::hostname line 64)
[2013-04-05T22:57:14+02:00] INFO: execute[hostname update] ran successfully
[2013-04-05T22:57:14+02:00] INFO: Processing execute[get ip from ifconfig] action run (confighost::getipadd line 10)
[2013-04-05T22:57:14+02:00] INFO: execute[get ip from ifconfig] ran successfully
[2013-04-05T22:57:14+02:00] INFO: Processing execute[add ip] action run (confighost::getipadd line 18)
[2013-04-05T22:57:14+02:00] INFO: execute[add ip] ran successfully
[2013-04-05T22:57:14+02:00] INFO: Processing execute[add hostname alias] action run (confighost::getipadd line 25)
[2013-04-05T22:57:14+02:00] INFO: execute[add hostname alias] ran successfully
[2013-04-05T22:57:14+02:00] INFO: Processing execute[quitar salos de linea] action run (confighost::getipadd line 34)
[2013-04-05T22:57:14+02:00] INFO: execute[quitar salos de linea] ran successfully
[2013-04-05T22:57:14+02:00] INFO: Processing template[/home/vagrant/send_host_local.exp] action create (confighost::hostconfigurenode line 4)
[2013-04-05T22:57:14+02:00] INFO: template[/home/vagrant/send_host_local.exp] owner changed to 500
[2013-04-05T22:57:14+02:00] INFO: template[/home/vagrant/send_host_local.exp] mode changed to 644
[2013-04-05T22:57:14+02:00] INFO: template[/home/vagrant/send_host_local.exp] updated content
[2013-04-05T22:57:14+02:00] INFO: Processing execute[send hosts local] action run (confighost::hostconfigurenode line 18)
[2013-04-05T22:57:39+02:00] INFO: execute[send hosts local] ran successfully
[2013-04-05T22:57:39+02:00] INFO: Processing cookbook_file[/tmp/chef-10.16.6-1.el6.x86_64.rpm] action create (chefInstall::install line 22)
[2013-04-05T22:57:40+02:00] INFO: cookbook_file[/tmp/chef-10.16.6-1.el6.x86_64.rpm] created file /tmp/chef-10.16.6-1.el6.x86_64.rpm
[2013-04-05T22:57:40+02:00] INFO: Processing execute[install chef] action run (chefInstall::install line 33)
[2013-04-05T22:57:47+02:00] INFO: execute[install chef] ran successfully
[2013-04-05T22:57:47+02:00] INFO: Processing cookbook_file[/tmp/reposPreinstall.tar.gz] action create (preinstall::default line 12)
[2013-04-05T22:57:55+02:00] INFO: cookbook_file[/tmp/reposPreinstall.tar.gz] owner changed to 500
[2013-04-05T22:57:55+02:00] INFO: cookbook_file[/tmp/reposPreinstall.tar.gz] created file /tmp/reposPreinstall.tar.gz
[2013-04-05T22:57:55+02:00] INFO: Processing execute[unpack reposPreinstall] action run (preinstall::default line 17)
[2013-04-05T22:58:00+02:00] INFO: execute[unpack reposPreinstall] ran successfully
[2013-04-05T22:58:00+02:00] INFO: Processing execute[install dependencies] action run (preinstall::default line 24)
[2013-04-05T22:59:22+02:00] INFO: execute[install dependencies] ran successfully
[2013-04-05T22:59:22+02:00] INFO: Chef Run complete in 133.293526 seconds
[2013-04-05T22:59:22+02:00] INFO: Running report handlers
[2013-04-05T22:59:22+02:00] INFO: Report handlers complete
[mg] Importing base box 'centos64'...
[mg] [0K[mg] Progress: 10%[mg] [0K[mg] Progress: 20%[mg] [0K[mg] Progress: 30%[mg] [0K[mg] Progress: 40%[mg] [0K[mg] Progress: 50%[mg] [0K[mg] Progress: 60%[mg] [0K[mg] Progress: 90%[mg] [0K[mg] The guest additions on this VM do not match the install version of
VirtualBox! This may cause things such as forwarded ports, shared
folders, and more to not work properly. If any of those things fail on
this machine, please update the guest additions and repackage the
box.

Guest Additions Version: 4.1.18
VirtualBox Version: 4.1.12
[mg] Matching MAC address for NAT networking...
[mg] Clearing any previously set forwarded ports...
[mg] Fixed port collision for 22 => 2222. Now on port 2200.
[mg] Forwarding ports...
[mg] -- 22 => 2200 (adapter 1)
[mg] Creating shared folders metadata...
[mg] Clearing any previously set network interfaces...
[mg] Preparing network interfaces based on configuration...
[mg] Running any VM customizations...
[mg] Booting VM...
[mg] Waiting for VM to boot. This can take a few minutes.
[mg] VM booted and ready for use!
[mg] Configuring and enabling network interfaces...
[mg] Mounting shared folders...
[mg] -- v-root: /vagrant
[mg] -- v-csc-2: /tmp/vagrant-chef-1/chef-solo-1/cookbooks
[mg] Running provisioner: Vagrant::Provisioners::ChefSolo...
[mg] Generating chef JSON and uploading...
[mg] Running chef-solo...
[2013-04-05T23:00:31+02:00] INFO: *** Chef 10.12.0 ***
[2013-04-05T23:00:32+02:00] INFO: Setting the run_list to ["recipe[confighost::preinstall]", "recipe[confighost::hostname]", "recipe[confighost::hostconfiguremaster]", "recipe[chefInstall::install]", "recipe[preinstall]"] from JSON
[2013-04-05T23:00:32+02:00] INFO: Run List is [recipe[confighost::preinstall], recipe[confighost::hostname], recipe[confighost::hostconfiguremaster], recipe[chefInstall::install], recipe[preinstall]]
[2013-04-05T23:00:32+02:00] INFO: Run List expands to [confighost::preinstall, confighost::hostname, confighost::hostconfiguremaster, chefInstall::install, preinstall]
[2013-04-05T23:00:32+02:00] INFO: Starting Chef Run for localhost
[2013-04-05T23:00:32+02:00] INFO: Running start handlers
[2013-04-05T23:00:32+02:00] INFO: Start handlers complete.
[2013-04-05T23:00:32+02:00] INFO: Processing cookbook_file[/home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm] action create (confighost::preinstall line 87)
[2013-04-05T23:00:33+02:00] INFO: cookbook_file[/home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm] owner changed to 500
[2013-04-05T23:00:33+02:00] INFO: cookbook_file[/home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm] mode changed to 644
[2013-04-05T23:00:33+02:00] INFO: cookbook_file[/home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm] created file /home/vagrant/tcl-8.5.7-6.el6.x86_64.rpm
[2013-04-05T23:00:33+02:00] INFO: Processing cookbook_file[/home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm] action create (confighost::preinstall line 94)
[2013-04-05T23:00:33+02:00] INFO: cookbook_file[/home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm] owner changed to 500
[2013-04-05T23:00:33+02:00] INFO: cookbook_file[/home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm] mode changed to 644
[2013-04-05T23:00:33+02:00] INFO: cookbook_file[/home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm] created file /home/vagrant/expect-5.44.1.15-4.el6.x86_64.rpm
[2013-04-05T23:00:33+02:00] INFO: Processing cookbook_file[/home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm] action create (confighost::preinstall line 101)
[2013-04-05T23:00:33+02:00] INFO: cookbook_file[/home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm] owner changed to 500
[2013-04-05T23:00:33+02:00] INFO: cookbook_file[/home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm] mode changed to 644
[2013-04-05T23:00:33+02:00] INFO: cookbook_file[/home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm] created file /home/vagrant/rsync-3.0.6-9.el6.x86_64.rpm
[2013-04-05T23:00:33+02:00] INFO: Processing execute[install tlc] action run (confighost::preinstall line 110)
[2013-04-05T23:00:35+02:00] INFO: execute[install tlc] ran successfully
[2013-04-05T23:00:35+02:00] INFO: Processing execute[install expect] action run (confighost::preinstall line 117)
[2013-04-05T23:00:36+02:00] INFO: execute[install expect] ran successfully
[2013-04-05T23:00:36+02:00] INFO: Processing execute[install rsync] action run (confighost::preinstall line 124)
[2013-04-05T23:00:36+02:00] INFO: execute[install rsync] ran successfully
[2013-04-05T23:00:36+02:00] INFO: Processing cookbook_file[/home/vagrant/configssh.exp] action create (confighost::preinstall line 133)
[2013-04-05T23:00:36+02:00] INFO: cookbook_file[/home/vagrant/configssh.exp] owner changed to 500
[2013-04-05T23:00:36+02:00] INFO: cookbook_file[/home/vagrant/configssh.exp] mode changed to 644
[2013-04-05T23:00:36+02:00] INFO: cookbook_file[/home/vagrant/configssh.exp] created file /home/vagrant/configssh.exp
[2013-04-05T23:00:36+02:00] INFO: Processing execute[backup /etc/sysconfig/network] action run (confighost::hostname line 39)
[2013-04-05T23:00:36+02:00] INFO: execute[backup /etc/sysconfig/network] ran successfully
[2013-04-05T23:00:36+02:00] INFO: Processing template[/tmp/network] action create (confighost::hostname line 46)
[2013-04-05T23:00:36+02:00] INFO: template[/tmp/network] mode changed to 755
[2013-04-05T23:00:36+02:00] INFO: template[/tmp/network] updated content
[2013-04-05T23:00:36+02:00] INFO: Processing execute[move network] action run (confighost::hostname line 55)
[2013-04-05T23:00:36+02:00] INFO: execute[move network] ran successfully
[2013-04-05T23:00:36+02:00] INFO: Processing execute[hostname update] action run (confighost::hostname line 64)
[2013-04-05T23:00:36+02:00] INFO: execute[hostname update] ran successfully
[2013-04-05T23:00:36+02:00] INFO: Processing cookbook_file[/home/vagrant/hosts_nodes] action create (confighost::hostconfiguremaster line 3)
[2013-04-05T23:00:36+02:00] INFO: cookbook_file[/home/vagrant/hosts_nodes] mode changed to 755
[2013-04-05T23:00:36+02:00] INFO: cookbook_file[/home/vagrant/hosts_nodes] created file /home/vagrant/hosts_nodes
[2013-04-05T23:00:36+02:00] INFO: Processing cookbook_file[/home/vagrant/hostsTemplate] action create (confighost::hostconfiguremaster line 10)
[2013-04-05T23:00:36+02:00] INFO: cookbook_file[/home/vagrant/hostsTemplate] mode changed to 755
[2013-04-05T23:00:36+02:00] INFO: cookbook_file[/home/vagrant/hostsTemplate] created file /home/vagrant/hostsTemplate
[2013-04-05T23:00:36+02:00] INFO: Processing execute[add to templatehost] action run (confighost::hostconfiguremaster line 17)
[2013-04-05T23:00:36+02:00] INFO: execute[add to templatehost] ran successfully
[2013-04-05T23:00:36+02:00] INFO: Processing execute[get ip from ifconfig] action run (confighost::getipadd line 10)
[2013-04-05T23:00:37+02:00] INFO: execute[get ip from ifconfig] ran successfully
[2013-04-05T23:00:37+02:00] INFO: Processing execute[add ip] action run (confighost::getipadd line 18)
[2013-04-05T23:00:37+02:00] INFO: execute[add ip] ran successfully
[2013-04-05T23:00:37+02:00] INFO: Processing execute[add hostname alias] action run (confighost::getipadd line 25)
[2013-04-05T23:00:37+02:00] INFO: execute[add hostname alias] ran successfully
[2013-04-05T23:00:37+02:00] INFO: Processing execute[quitar salos de linea] action run (confighost::getipadd line 34)
[2013-04-05T23:00:37+02:00] INFO: execute[quitar salos de linea] ran successfully
[2013-04-05T23:00:37+02:00] INFO: Processing execute[add hosts] action run (confighost::hostconfiguremaster line 30)
[2013-04-05T23:00:37+02:00] INFO: execute[add hosts] ran successfully
[2013-04-05T23:00:37+02:00] INFO: Processing cookbook_file[/home/vagrant/sendhostsssh.exp] action create (confighost::hostconfiguremaster line 39)
[2013-04-05T23:00:37+02:00] INFO: cookbook_file[/home/vagrant/sendhostsssh.exp] owner changed to 500
[2013-04-05T23:00:37+02:00] INFO: cookbook_file[/home/vagrant/sendhostsssh.exp] mode changed to 755
[2013-04-05T23:00:37+02:00] INFO: cookbook_file[/home/vagrant/sendhostsssh.exp] created file /home/vagrant/sendhostsssh.exp
[2013-04-05T23:00:37+02:00] INFO: Processing execute[ssh access] action run (confighost::hostconfiguremaster line 47)
[2013-04-05T23:00:38+02:00] INFO: execute[ssh access] ran successfully
[2013-04-05T23:00:38+02:00] INFO: Processing execute[send hosts] action run (confighost::hostconfiguremaster line 57)
[2013-04-05T23:00:43+02:00] INFO: execute[send hosts] ran successfully
[2013-04-05T23:00:43+02:00] INFO: Processing cookbook_file[/tmp/chef-10.16.6-1.el6.x86_64.rpm] action create (chefInstall::install line 22)
[2013-04-05T23:00:44+02:00] INFO: cookbook_file[/tmp/chef-10.16.6-1.el6.x86_64.rpm] created file /tmp/chef-10.16.6-1.el6.x86_64.rpm
[2013-04-05T23:00:44+02:00] INFO: Processing execute[install chef] action run (chefInstall::install line 33)
[2013-04-05T23:00:50+02:00] INFO: execute[install chef] ran successfully
[2013-04-05T23:00:50+02:00] INFO: Processing cookbook_file[/tmp/reposPreinstall.tar.gz] action create (preinstall::default line 12)
[2013-04-05T23:00:59+02:00] INFO: cookbook_file[/tmp/reposPreinstall.tar.gz] owner changed to 500
[2013-04-05T23:00:59+02:00] INFO: cookbook_file[/tmp/reposPreinstall.tar.gz] created file /tmp/reposPreinstall.tar.gz
[2013-04-05T23:00:59+02:00] INFO: Processing execute[unpack reposPreinstall] action run (preinstall::default line 17)
[2013-04-05T23:01:03+02:00] INFO: execute[unpack reposPreinstall] ran successfully
[2013-04-05T23:01:03+02:00] INFO: Processing execute[install dependencies] action run (preinstall::default line 24)
[2013-04-05T23:02:18+02:00] INFO: execute[install dependencies] ran successfully
[2013-04-05T23:02:18+02:00] INFO: Chef Run complete in 105.891941 seconds
[2013-04-05T23:02:18+02:00] INFO: Running report handlers
[2013-04-05T23:02:18+02:00] INFO: Report handlers complete
spawn ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/home/monki/.ssh/id_rsa): /home/monki/.ssh/id_rsa
/home/monki/.ssh/id_rsa already exists.
Overwrite (y/n)? n

realizado creacion de llave publica
enviar llave a la maquina dada
spawn ssh-copy-id -i /home/monki/.ssh/id_rsa.pub vagrant@172.18.0.11
vagrant@172.18.0.11's password: 
Now try logging into the machine, with "ssh 'vagrant@172.18.0.11'", and check in:

  ~/.ssh/authorized_keys

to make sure we haven't added extra keys that you weren't expecting.

pass enviado

se realiza correctamente
spawn ssh-keygen -t rsa
Generating public/private rsa key pair.
Enter file in which to save the key (/home/monki/.ssh/id_rsa): /home/monki/.ssh/id_rsa
/home/monki/.ssh/id_rsa already exists.
Overwrite (y/n)? n

realizado creacion de llave publica
enviar llave a la maquina dada
spawn ssh-copy-id -i /home/monki/.ssh/id_rsa.pub vagrant@172.18.0.12
vagrant@172.18.0.12's password: 
Now try logging into the machine, with "ssh 'vagrant@172.18.0.12'", and check in:

  ~/.ssh/authorized_keys

to make sure we haven't added extra keys that you weren't expecting.

pass enviado

se realiza correctamente
Checking Chef version...
